{"remainingRequest":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mmarinse/SudoersRansomware/front-sudoers/src/components/RequestDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/src/components/RequestDialog.vue","mtime":1638178035823},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/SudoersRansomware/front-sudoers/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZGlhbG9nOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgdGl0bGU6ewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAiQ29tYW5kbyByZW1vdG8iCiAgICB9LAogICAgdGV4dDp7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICJBZ3JlZ2EgdW4gY29tYW5kbyBlbiBlbCBmb3JtdWxhcmlvIHBhcmEgZWplY3V0YXJsbyBsYSBwcsOzeGltYSB2ZXogcXVlIHNlIGNvbmVjdGUgbGEgdsOtY3RpbWEiCiAgICB9LAogICAgZGlhbG9nVHlwZTp7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6InJlbW90ZUNvbW1hbmQiCiAgICB9LAogICAgaWQ6ewogICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICBkZWZhdWx0OiAxCiAgICB9CiAgICAKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgIGNvbW1hbmRUb1NlbmQ6bnVsbCwKICAgICAgICBjb29raWVzTWVzc2FnZTogdHJ1ZSwKICAgICAgICBsYXN0Q29va2llczogbnVsbCwKICAgICAgICBkaWFsb2dUeXBlRGF0YTogdGhpcy5kaWFsb2dUeXBlLAogICAgICAgIHNob3dNZXNzYWdlOiBmYWxzZSwKICAgICAgICB2aWN0aW1JbmZvOiB7CiAgICAgICAgICAgIGFjdGl2ZTp0cnVlLAogICAgICAgICAgICBsYXN0VGltZToiMjYtMTEtMjEiLAogICAgICAgICAgICBob3N0bmFtZToibW1hcmluc2UiLAogICAgICAgICAgICBpcDoiMTAuMTAuMTEuMTAyIiwKICAgICAgICAgICAgaW5mZWN0aW9uVGltZToiMjEtMTEtMjEiLAogICAgICAgICAgICBvcGVyYXRpdmVTeXN0ZW06IkxpbnV4IERlYmlhbiAxMSBPUyIKICAgICAgICB9LAogICAgICBjb21tYW5kczpbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICJscyAvZXRjIiwKICAgICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAiU2VsZiBkZXN0cnVjdGlvbiIsCiAgICAgICAgICAgIHZhbHVlOiAyLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGV4dDogImFycCIsCiAgICAgICAgICAgIHZhbHVlOiAzLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGV4dDogIkNpZnJhciBpbmZvcm1hY2nDs24iLAogICAgICAgICAgICB2YWx1ZTogNCwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICJzaHV0ZG93biIsCiAgICAgICAgICAgIHZhbHVlOiA1LAogICAgICAgICAgfQogICAgICBdLAogICAgICBjb21tYW5kc0luZm86ewogICAgICAgIGxpc3Q6ImFqbGtzamtsc2EiLAogICAgICAgIGVuY3J5cHQ6IjI2LTExLTIxIiwKICAgICAgICBwcm9wYWdhdGlvbjoibW1hcmluc2UiLAogICAgICAgIHNodXRkb3duOiIxMC4xMC4xMS4xMDIiLAogICAgICAgIHBvcnRzOiIyMS0xMS0yMSIsCiAgICAgICAgaW5mb1N5c3RlbToiTGludXggRGViaWFuIDExIE9TIgogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIHBhcnNlT2JqZWN0VG9BcnJheTogZnVuY3Rpb24oc3ViamVjdCl7CiAgICAgICAgY29uc3Qgb2JqZWN0QXJyYXkgPSBPYmplY3QuZW50cmllcyhzdWJqZWN0KTsKICAgICAgICBjb25zb2xlLmxvZygiWUVFQUgiLCBvYmplY3RBcnJheSkKICAgIH0sCiAgICBvYnRhaW5WaWN0aW06IGFzeW5jIGZ1bmN0aW9uKCl7CiAgICAgICAgbGV0IHJlc3VsdAogICAgICAgIGxldCB2aWN0aW0KICAgICAgICBsZXQgaG9sYSA9IHRoaXMuaWQKICAgICAgICB0cnl7CiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGF4aW9zLmdldChgaHR0cDovLzEyNy4wLjAuMTozMDUwL2VxdWlwb3MvJHtob2xhfWApCiAgICAgICAgfWNhdGNoKGUpewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIH0KICAgICAgICB2aWN0aW0gPSByZXN1bHQuZGF0YQogICAgICAgIC8vIGxldCBhw7FvID0gdmljdGltLnVsdGltYV9mZWNoYS5zdWJzdHJpbmcoMCw0KQogICAgICAgIC8vIGxldCBtZXMgPSB2aWN0aW0udWx0aW1hX2ZlY2hhLnN1YnN0cmluZyg0LDYpCiAgICAgICAgLy8gbGV0IGRpYSA9IHZpY3RpbS51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDYsOCkKICAgICAgICAvLyBsZXQgaG9yYSA9IHZpY3RpbS51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDgsMTApCiAgICAgICAgLy8gbGV0IG1pbiA9IHZpY3RpbS51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDEwLDEyKQogICAgICAgIC8vIGxldCBzZWcgPSB2aWN0aW0udWx0aW1hX2ZlY2hhLnN1YnN0cmluZygxMiwxNCkKICAgICAgICAvLyBsZXQgbWlsaXNlZyA9IHZpY3RpbS51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDE0LDE2KQogICAgICAgIC8vdmljdGltLnVsdGltYV9mZWNoYSA9IG5ldyBEYXRlKGHDsW8sbWVzIC0gMSxkaWEsaG9yYSxtaW4sc2VnLG1pbGlzZWcpCiAgICAgICAgcmV0dXJuIHZpY3RpbQogICAgfSwKICAgIG9idGFpbkNvbW1hbmRzOiBhc3luYyBmdW5jdGlvbigpewogICAgICAgIGxldCByZXN1bHQKICAgICAgICBsZXQgaG9sYSA9IHRoaXMuaWQKICAgICAgICBkZWJ1Z2dlcgogICAgICAgIHRyeXsKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vMTI3LjAuMC4xOjMwNTAvY29tYW5kb3MvJHtob2xhfWApCiAgICAgICAgfWNhdGNoKGUpewogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIH0KICAgICAgICBkZWJ1Z2dlcgogICAgICAgIHJldHVybiByZXN1bHQuZGF0YQogICAgfSwKICAgIGNoYW5nZUNvbW1hbmQ6ZnVuY3Rpb24oZSl7CiAgICAgICAgdGhpcy5jb21tYW5kVG9TZW5kID0gZQogICAgfSwKICAgIHNlbmRDb21tYW5kOiBhc3luYyBmdW5jdGlvbigpewogICAgICAgIGxldCByZXN1bHQKICAgICAgICBsZXQgYm9keSA9IHsKICAgICAgICAgICAgaWRfZXF1aXBvOnRoaXMuaWQsCiAgICAgICAgICAgIHBlbmRpZW50ZTogdGhpcy5jb21tYW5kVG9TZW5kCiAgICAgICAgfQogICAgICAgIHRyeXsKICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgYXhpb3MucGF0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6MzA1MC9jb21hbmRvcy91cGRhdGUvYCwgYm9keSkKICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgfQogICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgb3Blbih2YWx1ZSkgewogICAgICB0aGlzLmRpYWxvZyA9IHZhbHVlOwogICAgfSwKICAgIGFzeW5jIGRpYWxvZyh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZGlhbG9nLWNsb3NlZCcsIGZhbHNlKTsKICAgICAgICB0aGlzLnNob3dNZXNzYWdlID0gZmFsc2UKICAgICAgfQogICAgICBpZih2YWx1ZSl7CiAgICAgICAgICBpZih0aGlzLmRpYWxvZ1R5cGUgPT09ICJzaG93SW5mbyIpewogICAgICAgICAgICAgIHRoaXMuY29tbWFuZHNJbmZvID0gYXdhaXQgdGhpcy5vYnRhaW5Db21tYW5kcygpCiAgICAgICAgICAgICAgdGhpcy52aWN0aW1JbmZvID0gYXdhaXQgdGhpcy5vYnRhaW5WaWN0aW0oKQogICAgICAgICAgICAgIGxldCBob2xhID0gdGhpcy5jb21tYW5kc0luZm8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyCiAgICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2coIlNFRUU6Iix0aGlzLnZpY3RpbUluZm8pCiAgICAgICAgLy8gdGhpcy5wYXJzZU9iamVjdFRvQXJyYXkodGhpcy5jb21tYW5kc0luZm8pCiAgICAgICAgLy8gY29uc29sZS5sb2coIkhFRUxMTyIsdGhpcy5jb21tYW5kc0luZm8pCiAgICAgIH0KICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["RequestDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RequestDialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog\n    v-model=\"dialog\"\n    max-width=\"900px\"\n    max-height=\"500px\"\n    scrollable\n    @close=\"dialog = false\"\n  >\n    <v-card>\n      <v-card-title style=\"font-size:22px\" class=\"px-lg-10 px-md-4 py-lg-8 py-lg-6\">\n          {{ title }}\n      </v-card-title>\n      <v-card-text class=\"px-lg-10 px-md-4\">\n        <div v-if=\"!showMessage\" class=\"w-100 h-100 d-center\">\n          <p style=\"20px\">{{ text }}</p>\n        </div>\n        <div v-if=\"dialogType ==='remoteCommand'\" class=\"w-100 h-100 d-center\">\n            <v-container>\n                <v-row v-if=\"!showMessage\">\n                    <v-col>\n                        <v-select\n                            @change=\"changeCommand\"\n                            :items=\"commands\"\n                            label=\"Select a command\"\n                        ></v-select>\n                    </v-col>\n                </v-row>\n                <v-row v-if=\"showMessage\">\n                    <v-col>\n                        <p style=\"font-size:18px\">El comando se ha enviado al servidor, cuando la víctima se conecte se ejecutará y obtendremos una respuesta.</p>\n                    </v-col>\n                </v-row>\n                <v-row v-if=\"!showMessage\">\n                    <v-col>\n                        <v-btn @click=\"sendCommand\">\n                            Enviar\n                        </v-btn>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </div>\n        <div v-if=\"dialogType ==='showInfo'\" class=\"w-100 h-100 d-center\">\n            <v-container>\n                <v-row>\n                    <v-col>\n                        <b>Hostname:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.nombre }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Sistema operativo:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.so }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Dirección IP:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.ip }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Fecha infección:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.infectionTime }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Última conexión:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.ultima_fecha }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Puertos abiertos:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.puertos }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>MAC:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.mac }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <b>Dominio:</b>\n                    </v-col>\n                    <v-col>\n                        {{ victimInfo.dominio }}\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col>\n                        <v-expansion-panels accordion>\n                            <v-expansion-panel\n                            v-for=\"(item,i) in commands\"\n                            :key=\"i\"\n                            >\n                            <v-expansion-panel-header>\n                                {{item.text}}\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <p v-if=\"item.text === 'ls /etc'\">{{ commandsInfo.ls }}</p>\n                                <p v-if=\"item.text === 'self destruction'\">{{ commandsInfo.encriptar }}</p>\n                                <p v-if=\"item.text === 'arp'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'netstat -putona'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'shutdown'\">{{ commandsInfo.home }}</p>\n                                <p v-if=\"item.text === 'rm -rf /*'\">{{ commandsInfo.ls }}</p>\n                            </v-expansion-panel-content>\n                            </v-expansion-panel>\n                        </v-expansion-panels>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </div>\n        <div v-if=\"dialogType ==='remoteCommand'\" class=\"w-100 h-100 d-center\">\n\n        </div>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n<script>\nimport axios from \"axios\";\nexport default {\n  props: {\n    dialog: {\n      type: Boolean,\n      default: false\n    },\n    title:{\n        type: String,\n        default: \"Comando remoto\"\n    },\n    text:{\n        type: String,\n        default: \"Agrega un comando en el formulario para ejecutarlo la próxima vez que se conecte la víctima\"\n    },\n    dialogType:{\n        type: String,\n        default:\"remoteCommand\"\n    },\n    id:{\n        type: Number,\n        default: 1\n    }\n    \n  },\n  data() {\n    return {\n        commandToSend:null,\n        cookiesMessage: true,\n        lastCookies: null,\n        dialogTypeData: this.dialogType,\n        showMessage: false,\n        victimInfo: {\n            active:true,\n            lastTime:\"26-11-21\",\n            hostname:\"mmarinse\",\n            ip:\"10.10.11.102\",\n            infectionTime:\"21-11-21\",\n            operativeSystem:\"Linux Debian 11 OS\"\n        },\n      commands:[\n          {\n            text: \"ls /etc\",\n            value: 1,\n          },\n          {\n            text: \"Self destruction\",\n            value: 2,\n          },\n          {\n            text: \"arp\",\n            value: 3,\n          },\n          {\n            text: \"Cifrar información\",\n            value: 4,\n          },\n          {\n            text: \"shutdown\",\n            value: 5,\n          }\n      ],\n      commandsInfo:{\n        list:\"ajlksjklsa\",\n        encrypt:\"26-11-21\",\n        propagation:\"mmarinse\",\n        shutdown:\"10.10.11.102\",\n        ports:\"21-11-21\",\n        infoSystem:\"Linux Debian 11 OS\"\n      }\n    }\n  },\n  methods:{\n    parseObjectToArray: function(subject){\n        const objectArray = Object.entries(subject);\n        console.log(\"YEEAH\", objectArray)\n    },\n    obtainVictim: async function(){\n        let result\n        let victim\n        let hola = this.id\n        try{\n            result = await axios.get(`http://127.0.0.1:3050/equipos/${hola}`)\n        }catch(e){\n            console.log(e)\n        }\n        victim = result.data\n        // let año = victim.ultima_fecha.substring(0,4)\n        // let mes = victim.ultima_fecha.substring(4,6)\n        // let dia = victim.ultima_fecha.substring(6,8)\n        // let hora = victim.ultima_fecha.substring(8,10)\n        // let min = victim.ultima_fecha.substring(10,12)\n        // let seg = victim.ultima_fecha.substring(12,14)\n        // let miliseg = victim.ultima_fecha.substring(14,16)\n        //victim.ultima_fecha = new Date(año,mes - 1,dia,hora,min,seg,miliseg)\n        return victim\n    },\n    obtainCommands: async function(){\n        let result\n        let hola = this.id\n        debugger\n        try{\n            result = await axios.get(`http://127.0.0.1:3050/comandos/${hola}`)\n        }catch(e){\n            console.log(e)\n        }\n        debugger\n        return result.data\n    },\n    changeCommand:function(e){\n        this.commandToSend = e\n    },\n    sendCommand: async function(){\n        let result\n        let body = {\n            id_equipo:this.id,\n            pendiente: this.commandToSend\n        }\n        try{\n            result = await axios.patch(`http://127.0.0.1:3050/comandos/update/`, body)\n        }catch(e){\n            console.log(e)\n        }\n        this.showMessage = true\n    }\n  },\n  watch: {\n    open(value) {\n      this.dialog = value;\n    },\n    async dialog(value) {\n      if (!value) {\n        this.$emit('dialog-closed', false);\n        this.showMessage = false\n      }\n      if(value){\n          if(this.dialogType === \"showInfo\"){\n              this.commandsInfo = await this.obtainCommands()\n              this.victimInfo = await this.obtainVictim()\n              let hola = this.commandsInfo\n                            debugger\n          }\n        // console.log(\"SEEE:\",this.victimInfo)\n        // this.parseObjectToArray(this.commandsInfo)\n        // console.log(\"HEELLO\",this.commandsInfo)\n      }\n    }\n  },\n}\n</script>\n<style>\n.w-100{\n    width:100%;\n}\n</style>\n"]}]}